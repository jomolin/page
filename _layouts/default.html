<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title %}{{ page.title }} â€¢ {% endif %}{{ site.title }}</title>
  <link rel="icon" href="https://fav.farm/ðŸ¦¥" />
  <link rel="stylesheet" href="{{ '/style.css' | relative_url }}" id="claritas-css">
  <link rel="stylesheet" href="{{ '/normalize.css' | relative_url }}" id="normalize-css" disabled>
  <link rel="stylesheet" href="{{ '/magick.css' | relative_url }}" id="magick-css" disabled>
  <link rel="stylesheet" href="{{ '/dos.css' | relative_url }}" id="dos-css" disabled>
{% if page.excerpt %}
  <meta name="description" content="{{ page.excerpt | strip_html | truncate: 160 }}">
{% elsif site.description %}
  <meta name="description" content="{{ site.description }}">
{% endif %}
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | relative_url }}">
  <script>
    (function () {
      var theme = localStorage.getItem('theme') || 'claritas';
      document.getElementById('claritas-css').disabled = theme !== 'claritas';
      document.getElementById('normalize-css').disabled = theme !== 'magick';
      document.getElementById('magick-css').disabled   = theme !== 'magick';
      document.getElementById('dos-css').disabled      = theme !== 'dos';
    })();
  </script>
</head>
<body>
  <header>
    <h1>{{ site.title }}</h1>
    <nav>
      <a href="{{ '/' | relative_url }}">home</a>
      <a href="{{ '/blog/' | relative_url }}">blog</a>
      <a href="{{ '/garden/' | relative_url }}">garden</a>
      <a href="{{ '/now/' | relative_url }}">now</a>
      <a href="{{ '/links/' | relative_url }}">links</a>
    </nav>
  </header>

  <main>
    {{ content }}
  </main>

  <footer>
    <p style="display: flex; align-items: center; flex-wrap: wrap; gap: 0.5em;">
      <span><a href="mailto:{{ site.email }}">{{ site.email }}</a> â€¢ <a href="https://hardcover.app/@greatsandwiches">hardcover</a> â€¢ <a href="https://github.com/jomolin">github</a> â€¢ <a href="{{ '/feed.xml' | relative_url }}">rss</a></span>
      <button id="theme-toggle" type="button" style="margin-left: auto; cursor: pointer;">(ï¾‰â—•ãƒ®â—•)ï¾‰*:ï½¥ï¾Ÿâœ§</button>
    </p>
  </footer>

  <script>
    (function () {
      var themes = ['claritas', 'magick', 'dos'];

      function applyTheme(theme) {
        document.getElementById('claritas-css').disabled = theme !== 'claritas';
        document.getElementById('normalize-css').disabled = theme !== 'magick';
        document.getElementById('magick-css').disabled   = theme !== 'magick';
        document.getElementById('dos-css').disabled      = theme !== 'dos';
        localStorage.setItem('theme', theme);
      }

      document.getElementById('theme-toggle').addEventListener('click', function () {
        var current = localStorage.getItem('theme') || 'claritas';
        var next = themes[(themes.indexOf(current) + 1) % themes.length];
        applyTheme(next);
      });
    })();
  </script>
</body>
</html>
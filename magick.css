/*
 * Magick CSS (modified for joseph's page)
 * Original by: winterveil (https://github.com/wintermute-cell/)
 * License: MIT
 * Version: 1.0.5 (modified)
 *
 * Layout modified to match Claritas theme structure:
 *   - Same content width, padding, margins
 *   - Same nav structure (direct <a> tags, sidebar on wide screens)
 *   - Same footer structure (border-top, left-aligned)
 * Typography, forms, tables, code styling kept from magick.css.
 *
 * NOTE: This imports Google Fonts (Averia Libre, Averia Serif Libre,
 * Caveat, Courier Prime, Spectral, Noto Sans Symbols 2).
 * This is the one external dependency â€” it's what gives magick.css
 * its character. Remove the @import below to fall back to system fonts.
 */

@charset "UTF-8";

/* Importing the fonts. */
@import url('https://fonts.googleapis.com/css2?family=Averia+Libre:ital,wght@0,400;0,700;1,400;1,700&family=Averia+Serif+Libre:ital,wght@0,300;0,700;1,300;1,700&family=Caveat&family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&family=Spectral:ital,wght@0,300;0,600;1,300;1,600&display=swap&family=Noto+Sans+Symbols+2&display=swap');

/* ========================================================================================================================= */
/*  Theme Colors                                                                                                             */
/* ========================================================================================================================= */

:root {
    --fg: #0e0e0e;
    --bg: #fefefe;
    --form-bg: #fbfbfb;
    --form-fg: #00004d;
    --form-fg-placeholder: #00004d9a;
    --color-line: rgba(128, 128, 128, 0.3);
}

@media (prefers-color-scheme: dark) {
    :root {
        --fg: #fefefe;
        --bg: #0e0e0e;
        --form-bg: #1a1a1a;
        --form-fg: #fefefe;
        --form-fg-placeholder: #fefefe9a;
    }
}

/* ========================================================================================================================= */
/*  Base Layout (matching Claritas structure)                                                                                 */
/* ========================================================================================================================= */

/*
 * Matches Claritas body layout:
 *   - Same max-width (45 * 16px = 720px)
 *   - Same padding (0 32px)
 *   - Same margin (32px auto)
 *   - Flexbox column with min-height for sticky footer
 */
body {
    color: var(--fg);
    background-color: var(--bg);
    font-family: "Averia Serif Libre", serif;
    font-style: normal;
    font-size: 20px;
    line-height: calc(1em + 16px);
    font-weight: 300;
    min-width: 240px;
    max-width: 720px;
    padding: 0 32px;
    margin: 32px auto;
    display: flex;
    flex-direction: column;
    min-height: calc(100vh - 64px);
    counter-reset: sidenote-counter;
}

main {
    flex-grow: 1;
}

/* ========================================================================================================================= */
/*  Header                                                                                                                   */
/* ========================================================================================================================= */

/*
 * Matches Claritas: no massive top margin, just the site title + nav inline.
 * magick.css's giant header margin is removed.
 */
header {
    margin: 0;
    padding: 0;
}

/* ========================================================================================================================= */
/*  Footer (matching Claritas structure)                                                                                     */
/* ========================================================================================================================= */

footer {
    margin-top: auto;
    border-top: 1px solid currentColor;
    padding-top: 16px;
    text-align: left;
}

/* ========================================================================================================================= */
/*  Navigation (matching Claritas structure)                                                                                 */
/* ========================================================================================================================= */

/*
 * Your nav uses direct <a> tags, not <ul><li>.
 * On large screens, Claritas pins the nav as a fixed sidebar.
 */
nav a {
    text-decoration: none;
    color: var(--fg);
    padding: 0.1em;
    border-bottom: 2px solid var(--fg);
}

nav a:hover, nav a:focus, nav a:focus-visible {
    color: var(--bg);
    background-color: var(--fg);
}

/* Large screen sidebar nav (matches Claritas) */
@media (min-width: 1200px) {
    :root {
        --sidebar-width: 160px;
        --sidebar-left-margin: calc(50vw - 360px - 160px - 32px);
    }

    nav {
        position: fixed;
        top: 32px;
        left: var(--sidebar-left-margin);
        width: var(--sidebar-width);
        height: calc(100vh - 64px);
        overflow-y: auto;
    }

    nav * {
        display: block;
        margin: 0;
        padding: 0.25em;
        border: none;
    }
}

/* ========================================================================================================================= */
/*  Typography & Links                                                                                                       */
/* ========================================================================================================================= */

p:not(:first-child) {
    margin-top: 16px;
}

/* Links match Claritas style: bottom border, invert on hover */
a {
    color: var(--fg);
    text-decoration-color: transparent;
    padding: 0.1em;
    border-bottom: 2px solid var(--fg);
}

a:hover, a:focus, a:focus-visible {
    color: var(--bg);
    background-color: var(--fg);
}

b,
strong {
    font-weight: 600;
}

i,
em {
    font-size: calc(1em + 0.1rem);
}

/* Headings */
h1, h2, h3, h4 {
    font-family: "Averia Libre", cursive;
    color: var(--fg);
    font-style: normal;
    font-weight: 600;
    line-height: calc(1em + 16px);
    word-break: break-word;
    overflow-wrap: break-word;
    white-space: normal;
    hyphens: auto;
}

h1:not(:first-child), h2:not(:first-child), h3:not(:first-child), h4:not(:first-child) {
    margin-top: 32px;
}

/* Site title h1 in header */
main h1:first-of-type {
    font-size: calc(16px * 3);
    font-style: italic;
    text-transform: uppercase;
}

@media (min-width: 1200px) {
    main h1:first-of-type {
        font-size: calc(16px * 4);
    }
}

h1 {
    text-transform: uppercase;
    font-size: 2.25rem;
}

h2 {
    font-size: 1.4rem;
    text-transform: uppercase;
}

h3 {
    font-size: 1.25rem;
}

/* Decorative element before h3 */
h3:before {
    font-family: "Noto Sans Symbols 2", sans-serif;
    content: "ðŸ™› ";
}

h4 {
    font-style: italic;
    font-size: 1.25rem;
}

/* ========================================================================================================================= */
/*  HR                                                                                                                       */
/* ========================================================================================================================= */

hr {
    margin: 16px 0;
    border: 0;
    border-top: 1px solid var(--color-line);
}

/* ========================================================================================================================= */
/*  Lists                                                                                                                    */
/* ========================================================================================================================= */

:where(main ol, main ul) {
    margin-inline-start: 0;
    padding-inline-start: 3rem;
    margin: 0.8rem 0;
}

dl {
    margin: 0.8rem 0;
}

dd {
    margin: 0 1.6rem;
}

/* ========================================================================================================================= */
/*  Media                                                                                                                    */
/* ========================================================================================================================= */

img, video, iframe, table {
    max-width: 100%;
}

img:not(:first-child), video:not(:first-child), iframe:not(:first-child), table:not(:first-child) {
    margin-top: 16px;
}

img {
    height: auto;
}

figure img {
    margin: 0;
    padding: 0;
}

figure {
    margin: 2rem 0;
    padding: 0;
    text-align: center;
}

figure * {
    margin-left: auto;
    margin-right: auto;
}

figure code,
figure pre {
    text-align: left;
}

figcaption {
    margin: 0.8rem 0;
    font-size: 1rem;
}

/* ========================================================================================================================= */
/*  Forms & Inputs                                                                                                           */
/* ========================================================================================================================= */

form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    padding: 1rem;
    margin: 0.8rem 0;
    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
    background-color: var(--form-bg);
}

form input[type="email"],
form input[type="number"],
form input[type="password"],
form input[type="search"],
form input[type="tel"],
form input[type="text"],
form input[type="url"],
form label,
form fieldset,
form textarea {
    grid-column: span 2;
}

form input,
form button,
form textarea {
    width: 100%;
    resize: vertical;
}

input[type="radio"],
input[type="checkbox"] {
    width: auto;
    margin-right: 0.5rem;
}
input[type="radio"] + label,
input[type="checkbox"] + label {
    margin-right: 2rem;
}

input[type="radio"]:disabled + label,
input[type="checkbox"]:disabled + label {
    text-decoration: line-through;
    opacity: 0.5;
}

input[type="email"],
input[type="number"],
input[type="password"],
input[type="search"],
input[type="tel"],
input[type="text"],
input[type="url"],
textarea,
select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    box-shadow: none;
    box-sizing: inherit;
    border: none;
    padding: .4rem 1rem;
    margin-bottom: 1.6rem;
    color: var(--fg);
    background-color: transparent;
    border-bottom: 1px solid var(--fg);
    border-radius: 0;
    font-family: "Caveat", cursive;
    font-size: 1.6rem;
    color: var(--form-fg);
    caret-color: var(--form-fg);
}

input[type="email"]:disabled,
input[type="number"]:disabled,
input[type="password"]:disabled,
input[type="search"]:disabled,
input[type="tel"]:disabled,
input[type="text"]:disabled,
input[type="url"]:disabled,
textarea:disabled,
select:disabled {
    border-bottom: 1px dashed var(--fg);
    text-decoration: line-through;
}

input::placeholder,
textarea::placeholder {
    color: var(--form-fg-placeholder);
}

input[type="email"]:focus,
input[type="number"]:focus,
input[type="password"]:focus,
input[type="search"]:focus,
input[type="tel"]:focus,
input[type="text"]:focus,
input[type="url"]:focus,
textarea:focus,
select:focus {
    outline: none;
    border-bottom: 2px solid var(--fg);
    margin-bottom: calc(1.6rem - 1px);
}

button,
input[type="button"],
input[type="reset"],
input[type="submit"] {
    background-color: transparent;
    color: var(--fg);
    padding: 10px;
    margin-top: 1rem;
    border: 1px solid var(--fg);
    cursor: pointer;
}

fieldset {
    border: 1px solid var(--fg);
    width: fit-content;
}

form fieldset {
    width: 100%;
}

button:disabled,
input[type="button"]:disabled,
input[type="reset"]:disabled,
input[type="submit"]:disabled {
    opacity: 0.5;
    border-style: dashed;
    cursor: not-allowed;
    text-decoration: line-through;
}

/* ========================================================================================================================= */
/*  Tables                                                                                                                   */
/* ========================================================================================================================= */

table {
    border-spacing: 0;
}

td,
th {
    padding: 0.4rem 1.0rem;
}

td:first-child,
th:first-child {
    padding-left: 0;
}

td:last-child,
th:last-child {
    padding-right: 0;
}

th {
    border-bottom: 2px solid var(--fg);
    text-align: left;
}

/* ========================================================================================================================= */
/*  Preformatting, Quotes & Code                                                                                             */
/* ========================================================================================================================= */

blockquote {
    padding: 1rem 1.6rem;
    overflow-y: hidden;
    width: fit-content;
    max-width: 80%;
    margin: 2rem auto;
}

blockquote p {
    font-family: "Spectral", serif;
    font-style: italic;
    font-size: 1.3rem;
    font-weight: 300;
    line-height: 1.5;
    margin: 1rem 0;
}

blockquote footer {
    margin: 0;
    padding: 0;
    float: right;
    text-align: right;
    width: 55%;
    font-family: "Spectral", serif;
    font-style: normal;
    font-size: 0.875rem;
    /* Reset layout styles so blockquote footers don't get the page footer treatment */
    margin-top: 0;
    border-top: none;
    padding-top: 0;
}

blockquote footer cite {
    font-style: italic;
}

pre:has(code) {
    padding: 1rem 1.6rem;
    margin: 1.6rem 0;
    overflow-y: hidden;
    font-family: "Courier Prime", monospace;
    font-size: 0.9rem;
    border-top: 2px solid var(--fg);
    border-bottom: 2px solid var(--fg);
}

code {
    font-family: "Courier Prime", monospace;
    font-size: 0.9rem;
}

pre {
    font-size: calc(16px * 0.8);
    line-height: 1.8em;
    padding: 8px;
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    white-space: pre-wrap;
}

pre .line-number {
    float: left;
    margin: 0 1.5rem 0 -1.5rem;
    border-right: 1px solid;
    text-align: right;
}

pre .line-number span {
    display: block;
    padding: 0 0.8rem 0 1.6rem;
}

/* ========================================================================================================================= */
/*  Sidenotes & Asides                                                                                                       */
/* ========================================================================================================================= */

.sidenote,
aside {
    float: right;
    clear: right;
    width: 40%;
    margin: 1rem 1rem 1rem 3rem;
    padding: 0.5rem 0.5rem 0.5rem 2rem;
    border-left: 3px solid var(--fg);
    font-size: 0.875rem;
    line-height: 1.3;
}

aside h1, aside h2, aside h3, aside h4 {
    margin-top: 0;
}

@media (min-width: 1160px) {
    .sidenote {
        --distance-from-main: 3rem;
        --self-width: min(calc((100vw - 720px)/2 - (var(--distance-from-main))), 40%);
        margin: 0;
        padding: 0;
        border: none;
        width: var(--self-width);
        margin-right: calc(calc(var(--self-width) + var(--distance-from-main)) * -1);
    }
}

.sidenote-anchor {
    counter-increment: sidenote-counter;
}

.sidenote-anchor:after,
.sidenote:before {
    font-size: 0.8rem;
    position: relative;
    font-family: "Spectral", serif;
}

.sidenote-anchor:after {
    content: counter(sidenote-counter);
    top: -0.5rem;
    left: 0.1rem;
}

.sidenote:before {
    content: counter(sidenote-counter) " ";
    top: -0.5rem;
}

/* ========================================================================================================================= */
/*  Print Support (matching Claritas)                                                                                        */
/* ========================================================================================================================= */

@media print {
    tr, th, thead, h1, h2, h3 {
        -webkit-column-break-inside: avoid;
        break-inside: avoid-page;
        page-break-inside: avoid;
    }

    h1::after, h2::after, h3::after {
        content: "";
        display: block;
        height: 2cm;
        margin-bottom: -2cm;
    }

    nav {
        display: none;
    }
}

/* ========================================================================================================================= */
/*  Mark / Highlights                                                                                                        */
/* ========================================================================================================================= */

mark {
    color: var(--fg);
    display: inline-block;
    background-color: rgba(114, 188, 255, 0.25);
    border: 1px solid rgba(114, 188, 255, 0.6);
    padding: 4px;
    margin: 0.05em;
}

/* ========================================================================================================================= */
/*  Compatibility                                                                                                            */
/* ========================================================================================================================= */

body {
    -webkit-text-size-adjust: 100%;
}